{"version":3,"sources":["App.module.scss","App.tsx","index.tsx"],"names":["module","exports","dayjs","extend","duration","utc","padLeft","v","String","App","d","currentDay","format","currentRealTime","useState","foreRender","counterStatus","setCounterStatus","counterIntervalRef","useRef","counterRef","Number","localStorage","getItem","appRef","clickCounter","setClickCounter","useEffect","setInterval","Math","random","console","log","setTimeout","current","setItem","clearInterval","className","styles","ref","realTime","minuteAndHour","second","timeCounter","hour","hours","minutes","seconds","day","onClick","controlWrapper","document","fullscreenElement","exitFullscreen","requestFullscreen","ReactDOM","render","StrictMode","getElementById"],"mappings":"6FACAA,EAAOC,QAAU,CAAC,IAAM,iBAAiB,SAAW,sBAAsB,cAAgB,2BAA2B,OAAS,oBAAoB,YAAc,yBAAyB,IAAM,iBAAiB,eAAiB,8B,6OCOjOC,IAAMC,OAAOC,KACbF,IAAMC,OAAOE,KAEb,IAAMC,EAAU,SAACC,GACf,OAAIA,EAAI,GACC,IAAMA,EAERC,OAAOD,IA+GDE,MA5Gf,WACE,IAAMC,EAAIR,MACJS,EAAaD,EAAEE,OAAO,YACtBC,EAAkBH,EAAEE,OAAO,SAHpB,EAIUE,mBAAS,GAAvBC,EAJI,sBAM6BD,oBAAS,GANtC,mBAMNE,EANM,KAMSC,EANT,KAQPC,EAAqBC,mBACrBC,EAAaD,iBACjBE,OAAOC,aAAaC,QAAQ,aAAe,GAGvCC,EAASL,iBAAuB,MAbzB,EAe2BL,mBAAiB,GAf5C,mBAeNW,EAfM,KAeQC,EAfR,KAuDb,OAtCAC,qBAAU,WACRC,aAAY,WACVb,EAAWc,KAAKC,YACf,OACF,IAEHH,qBAAU,WACRI,QAAQC,IAAI,gBAAiBP,GACR,IAAjBA,GACFQ,YAAW,WACTP,EAAgB,KACf,KAEDD,EAAe,IACjBL,EAAWc,QAAU,EACrBZ,aAAaa,QAAQ,UAAW3B,OAAOY,EAAWc,UAClDnB,EAAWc,KAAKC,UAChBb,GAAiB,MAElB,CAACQ,IAMJE,qBAAU,WAEHX,EAIHE,EAAmBgB,QAAUN,aAAY,WACvCR,EAAWc,SAAW,IACtBZ,aAAaa,QAAQ,UAAW3B,OAAOY,EAAWc,YACjD,KANHE,cAAclB,EAAmBgB,WAQlC,CAAClB,IAGF,sBAAKqB,UAAWC,IAAO7B,IAAK8B,IAAKf,EAAjC,UACE,sBAAKa,UAAWC,IAAOE,SAAvB,UACE,sBAAMH,UAAWC,IAAOG,cAAxB,SAAwC5B,IACxC,sBAAMwB,UAAWC,IAAOI,OAAxB,SAAiChC,EAAEE,OAAO,WAG5C,sBAAKyB,UAAWC,IAAOK,YAAvB,UACE,sBAAMN,UAAWC,IAAOM,KAAxB,SACGtC,EAAQJ,IAAME,SAASgB,EAAWc,SAASW,WAE9C,+BAAOvC,EAAQJ,IAAME,SAASgB,EAAWc,SAASY,aAClD,sBAAMT,UAAWC,IAAOI,OAAxB,SACGpC,EAAQJ,IAAME,SAASgB,EAAWc,SAASa,gBAGhD,sBAAKV,UAAWC,IAAOU,IAAKC,QAAS,aAArC,UACGtC,EADH,IACgBT,MAAQU,OAAO,OAD/B,OAGA,sBAAKyB,UAAWC,IAAOY,eAAvB,UACE,qBACED,QAAS,WACHzB,EAAOU,UACLiB,SAASC,kBACXD,SAASE,iBAET7B,EAAOU,QAAQoB,sBANvB,eAaA,oCACA,qBACEL,QAAS,WACPvB,EAAgBD,EAAe,IAFnC,eAOA,qBACEwB,QAAS,WA1DfhC,GAAkBD,IAyDd,sBC7GRuC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFN,SAASO,eAAe,W","file":"static/js/main.7c80672b.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__15LM-\",\"realTime\":\"App_realTime__2n02c\",\"minuteAndHour\":\"App_minuteAndHour__3VbZE\",\"second\":\"App_second__1WvJx\",\"timeCounter\":\"App_timeCounter__1bchr\",\"day\":\"App_day__2EXEo\",\"controlWrapper\":\"App_controlWrapper__2IASe\"};","import React, { useEffect, useRef, useState } from \"react\";\nimport \"./statics/css/basic.scss\";\nimport \"./statics/css/normalize.css\";\nimport styles from \"./App.module.scss\";\nimport dayjs from \"dayjs\";\nimport duration from \"dayjs/plugin/duration\";\nimport utc from \"dayjs/plugin/utc\";\n\ndayjs.extend(duration);\ndayjs.extend(utc);\n\nconst padLeft = (v: number): string => {\n  if (v < 10) {\n    return \"0\" + v;\n  }\n  return String(v);\n};\n\nfunction App() {\n  const d = dayjs();\n  const currentDay = d.format(\"YYYYMMDD\");\n  const currentRealTime = d.format(\"HH:mm\");\n  const [, foreRender] = useState(0);\n\n  const [counterStatus, setCounterStatus] = useState(false);\n\n  const counterIntervalRef = useRef<any>();\n  const counterRef = useRef<number>(\n    Number(localStorage.getItem(\"counter\")) || 0\n  );\n\n  const appRef = useRef<HTMLDivElement>(null);\n\n  const [clickCounter, setClickCounter] = useState<number>(0);\n\n  useEffect(() => {\n    setInterval(() => {\n      foreRender(Math.random());\n    }, 1000);\n  }, []);\n\n  useEffect(() => {\n    console.log(\"clickCounterl\", clickCounter);\n    if (clickCounter === 1) {\n      setTimeout(() => {\n        setClickCounter(0);\n      }, 2000);\n    }\n    if (clickCounter > 5) {\n      counterRef.current = 0;\n      localStorage.setItem(\"counter\", String(counterRef.current));\n      foreRender(Math.random());\n      setCounterStatus(false);\n    }\n  }, [clickCounter]);\n\n  const counterToggle = () => {\n    setCounterStatus(!counterStatus);\n  };\n\n  useEffect(() => {\n    // 如果关闭计时器，就清除之前的\n    if (!counterStatus) {\n      clearInterval(counterIntervalRef.current);\n    } else {\n      // 如果打开计时器\n      counterIntervalRef.current = setInterval(() => {\n        counterRef.current += 1000;\n        localStorage.setItem(\"counter\", String(counterRef.current));\n      }, 1000);\n    }\n  }, [counterStatus]);\n\n  return (\n    <div className={styles.App} ref={appRef}>\n      <div className={styles.realTime}>\n        <span className={styles.minuteAndHour}>{currentRealTime}</span>\n        <span className={styles.second}>{d.format(\"ss\")}</span>\n      </div>\n\n      <div className={styles.timeCounter}>\n        <span className={styles.hour}>\n          {padLeft(dayjs.duration(counterRef.current).hours())}\n        </span>\n        <span>{padLeft(dayjs.duration(counterRef.current).minutes())}</span>\n        <span className={styles.second}>\n          {padLeft(dayjs.duration(counterRef.current).seconds())}\n        </span>\n      </div>\n      <div className={styles.day} onClick={() => {}}>\n        {currentDay} {dayjs().format(\"ddd\")}.\n      </div>\n      <div className={styles.controlWrapper}>\n        <div\n          onClick={() => {\n            if (appRef.current) {\n              if (document.fullscreenElement) {\n                document.exitFullscreen();\n              } else {\n                appRef.current.requestFullscreen();\n              }\n            }\n          }}\n        >\n          T\n        </div>\n        <div>I</div>\n        <div\n          onClick={() => {\n            setClickCounter(clickCounter + 1);\n          }}\n        >\n          M\n        </div>\n        <div\n          onClick={() => {\n            counterToggle();\n          }}\n        >\n          E\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.scss\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}